@page
@using Microsoft.AspNetCore.Localization
@using Microsoft.AspNetCore.Mvc.Localization
@inject IStringLocalizer<SelectModel> localizer
@inject IHtmlLocalizer<SelectModel> htmlLocalizer
@model SelectModel
@{
    ViewData["Title"] = "Home page";
    if (HttpContext.Request.Query["culture"] == "fr")
    {
        CultureInfo.CurrentCulture = new CultureInfo("fr");
        CultureInfo.CurrentUICulture = new CultureInfo("fr");
        Response.Cookies.Append(
            CookieRequestCultureProvider.DefaultCookieName,
            CookieRequestCultureProvider.MakeCookieValue(new RequestCulture(CultureInfo.CurrentCulture)),
            new CookieOptions { Expires = DateTimeOffset.UtcNow.AddYears(1) }
        );
    }
    else if (HttpContext.Request.Query["culture"] == "en")
    {
        CultureInfo.CurrentCulture = new CultureInfo("en");
        CultureInfo.CurrentUICulture = new CultureInfo("en");
        Response.Cookies.Append(
            CookieRequestCultureProvider.DefaultCookieName,
            CookieRequestCultureProvider.MakeCookieValue(new RequestCulture(CultureInfo.CurrentCulture)),
            new CookieOptions { Expires = DateTimeOffset.UtcNow.AddYears(1) }
        );
    }

    var requestCultureFeature = HttpContext.Features.Get<IRequestCultureFeature>();
    var requestCulture = requestCultureFeature.RequestCulture;
    ViewData["Select"] = localizer["Select"];
    ViewData["Home"] = localizer["Home"];
}

<div class="text-center"><h3>Court of Appeal Annual Statistics</h3></div>
<br />
<form method="post">
    <div class="text-center">
        <div>
            Welcome to the Court of Appeal Annual Statistics (CAAS) database.
        </div>
        <br />
        <div>
            All statistics are to be collected on a calendar year basis and for the period ending December 31st (January 1st to December 31st).
        </div>
        <br />
        <div>
            The database offers a variety of reports that can be generated for use by your court.
            To enter your annual statistics and/or generate reports, please use the buttons below.
        </div>
        <br />
        <div>
            <i>
                Please note that your session will automatically expire after X minutes of inactivity.
                If you encounter any technical difficulties, please contact X.
            </i>
        </div>
        <br />
        <br />
    </div>
    <div class="text-center">
        <span class="col-md-6 text-right">
            <a class="btn btn-primary" style="color:white;width:240px;height:100px;text-align:center;border-radius:12px;" asp-page="./Create"><br /><span class="glyphicon glyphicon-tasks align-top"></span><br />Submit Statistics</a>
        </span>
        <span class="col-md-6 text-left">
            <a class="btn btn-primary" style="color:white;width:240px;height:100px;text-align:center;border-radius:12px;" asp-page="./Report"><br /><span class="glyphicon glyphicon-list align-top"></span><br />Generate Reports</a>
        </span>
    </div>
</form>
<br />
<br />
<br />
<br />