@page
@using Microsoft.AspNetCore.Localization
@using Microsoft.AspNetCore.Mvc.Localization
@inject IStringLocalizer<ReviewModel> localizer
@inject IHtmlLocalizer<ReviewModel> htmlLocalizer
@model ReviewModel
@{
    ViewData["Title"] = "CAS";
    if (HttpContext.Request.Query["culture"] == "fr")
    {
        CultureInfo.CurrentCulture = new CultureInfo("fr");
        CultureInfo.CurrentUICulture = new CultureInfo("fr");
        Response.Cookies.Append(
            CookieRequestCultureProvider.DefaultCookieName,
            CookieRequestCultureProvider.MakeCookieValue(new RequestCulture(CultureInfo.CurrentCulture)),
            new CookieOptions { Expires = DateTimeOffset.UtcNow.AddYears(1) }
        );
    }
    else if (HttpContext.Request.Query["culture"] == "en")
    {
        CultureInfo.CurrentCulture = new CultureInfo("en");
        CultureInfo.CurrentUICulture = new CultureInfo("en");
        Response.Cookies.Append(
            CookieRequestCultureProvider.DefaultCookieName,
            CookieRequestCultureProvider.MakeCookieValue(new RequestCulture(CultureInfo.CurrentCulture)),
            new CookieOptions { Expires = DateTimeOffset.UtcNow.AddYears(1) }
        );
    }

    var requestCultureFeature = HttpContext.Features.Get<IRequestCultureFeature>();
    var requestCulture = requestCultureFeature.RequestCulture;
    ViewData["Review"] = localizer["Review"];
    ViewData["Create"] = localizer["Create"];
    ViewData["Select"] = localizer["Select"];
    ViewData["Home"] = localizer["Home"];
}

<div class="text-center"><h1>@localizer["Review"] CAS</h1></div>
<form method="post" id="reviewForm">
    <details class="mrgn-tp-lg" open>
        <summary>
            <div>
                <span>Module#1</span>
                <span>
                    <a class="pull-right" onclick="submitForm();"><span class="glyphicon glyphicon-edit"></span></a>
                </span>
            </div>
        </summary>
        <section class="center">
            <fieldset>
                <div class="form-group">
                    <label for="firstName"><span class="field-name">@localizer["FirstName"]</span></label>
                    <input class="form-control" id="firstName" name="firstName" type="text" asp-for="@Model.firstName" autocomplete="firstName" data-rule-minlength="2" readonly>
                </div>
                <div class="form-group">
                    <label for="lastName"><span class="field-name">@localizer["LastName"]</span></label>
                    <input class="form-control" id="lastName" name="lastName" type="text" asp-for="@Model.lastName" autocomplete="lastName" data-rule-minlength="2" readonly>
                </div>
                <div class="form-group">
                    <label for="dob"><span class="field-name">@localizer["dob"]</span><span class="datepicker-format"> (<abbr title="Four digits year, dash, two digits month, dash, two digits day">YYYY-MM-DD</abbr>)</span></label>
                    <input class="form-control" id="dob" name="dob" type="date" data-rule-dateISO="true" asp-for="@Model.dob" readonly />
                </div>
            </fieldset>
        </section>
        <div>
            <span>
                <a class="btn btn-primary" asp-page="./Select">@localizer["Submit"]</a>
            </span>
            <span>
                <a class="btn btn-default" asp-page="./Create">@localizer["Back"]</a>
            </span>
        </div>
    </details>
</form>