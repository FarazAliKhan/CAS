@page
@using Microsoft.AspNetCore.Localization
@using Microsoft.AspNetCore.Mvc.Localization
@inject IStringLocalizer<IndexModel> localizer
@inject IHtmlLocalizer<IndexModel> htmlLocalizer
@model IndexModel
@{
    ViewData["Title"] = "Home page";
    if(HttpContext.Request.Query["culture"] == "fr")
    {
        CultureInfo.CurrentCulture = new CultureInfo("fr");
        CultureInfo.CurrentUICulture = new CultureInfo("fr");
        Response.Cookies.Append(
    CookieRequestCultureProvider.DefaultCookieName,
    CookieRequestCultureProvider.MakeCookieValue(new RequestCulture(CultureInfo.CurrentCulture)),
    new CookieOptions { Expires = DateTimeOffset.UtcNow.AddYears(1) }
);
    }
    else if (HttpContext.Request.Query["culture"] == "en")
    {
        CultureInfo.CurrentCulture = new CultureInfo("en");
        CultureInfo.CurrentUICulture = new CultureInfo("en");
        Response.Cookies.Append(
    CookieRequestCultureProvider.DefaultCookieName,
    CookieRequestCultureProvider.MakeCookieValue(new RequestCulture(CultureInfo.CurrentCulture)),
    new CookieOptions { Expires = DateTimeOffset.UtcNow.AddYears(1) }
);
    }
    var requestCultureFeature = HttpContext.Features.Get<IRequestCultureFeature>();
    var requestCulture = requestCultureFeature.RequestCulture;
}

<div class="text-center"><h1>CAS</h1></div>
<div>
    <form method="post">
        <section class="center">
            <div class="form-group">
                <div class="input-group row center">
                    <label for="firstName" class="form-control">@localizer["FirstName"]</label>
                    <input id="firstName" class="form-control"  />
                </div>
            </div>
            <div class="form-group">
                <div class="input-group row center">
                    <label for="lastName" class="form-control">@localizer["LastName"]</label>
                    <input id="lastName" class="form-control" />
                </div>
            </div>
            <div class="form-group">
                <div class="input-group row center">
                    <label for="dob" class="form-control">@localizer["dob"]</label>
                    <input id="dob" class="form-control"  />
                </div>
            </div>
        </section>
        <div>
            <button class="btn btn-primary" type="submit">Create</button>
            <span>
                <a class="btn btn-default" asp-page="./Index">@localizer["Back"]</a>
            </span>
        </div>
    </form>
</div>
